<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="description" content="Andrea Tai OMIS 120 SQL/PHP">
		<meta name="keywords" content="Photography, Videography, Music, Foodie">
		<meta name="author" content="Andrea Tai">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta property="og:image" content="../images/previews/IMG_1295.jpg" />
		<title>Andrea Tai - OMIS 120 SQL/PHP</title>
		<link rel="stylesheet" href="../mainStyles.css">
		<link rel="icon" href="../images/IMG_0590.jpg">
	</head>

	<body>

		<header>
			<nav>
				<a class="navlink" href="..">Home</a>
				<a class="navlink" href="../resume">Resume</a>
				<a class="navlink" href="../photography">Photography</a>
				<a class="navlink" href="../videography">Videography</a>
				<a class="navlink" href="../music">Music</a>
				<a class="navlink" href="../contact">Contact</a>
			</nav>
		</header>

		<?php
		$nameErr = $emailErr = $genderErr = $websiteErr = "";
		$name = $email = $gender = $comment = $website = "";

		if ($_SERVER["REQUEST_METHOD"] == "POST") {
	  		if (empty($_POST["name"])) {
	    		$nameErr = "Name is required";
	  	} else {
	    	$name = test_input($_POST["name"]);

	    	if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
	      		$nameErr = "Only letters and white space allowed"; 
	    	}
	  	}
	  
	  	if (empty($_POST["email"])) {
	    	$emailErr = "Email is required";
	  	} else {
	    	$email = test_input($_POST["email"]);
	    
	    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
	    	$emailErr = "Invalid email format"; 
	    }
	  	}
	    
	  	if (empty($_POST["website"])) {
	    	$website = "";
	  	} else {
	    	$website = test_input($_POST["website"]);
	    if (!preg_match("/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i",$website)) {
	      $websiteErr = "Invalid URL"; 
	    }
	  	}

	  	if (empty($_POST["comment"])) {
	    	$comment = "";
	  	} else {
	    	$comment = test_input($_POST["comment"]);
	  	}

	  	if (empty($_POST["gender"])) {
	    	$genderErr = "Gender is required";
	  	} else {
	    	$gender = test_input($_POST["gender"]);
	  	}
		}

		function test_input($data) {
	  	$data = trim($data);
	  	$data = stripslashes($data);
	  	$data = htmlspecialchars($data);
	  	return $data;
		}
		?>

	<p>
		<span class="error">* required field</span>
	</p>
	<form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>">  
	  Name: <input type="text" name="name" value="<?php echo $name;?>">
	  <span class="error">* <?php echo $nameErr;?></span>
	  <br>
	  E-mail: <input type="text" name="email" value="<?php echo $email;?>">
	  <span class="error">* <?php echo $emailErr;?></span>
	  <br>
	  Website: <input type="text" name="website" value="<?php echo $website;?>">
	  <span class="error"><?php echo $websiteErr;?></span>
	  <br>
	  Comment: <textarea name="comment" rows="5" cols="40"><?php echo $comment;?></textarea>
	  <br>
	  Gender:
	  <input type="radio" name="gender" <?php if (isset($gender) && $gender=="female") echo "checked";?> value="female">Female
	  <input type="radio" name="gender" <?php if (isset($gender) && $gender=="male") echo "checked";?> value="male">Male
	  <input type="radio" name="gender" <?php if (isset($gender) && $gender=="other") echo "checked";?> value="other">Other  
	  <span class="error">* <?php echo $genderErr;?></span>
	  <br>
	  <input type="submit" name="submit" value="Submit">  
	</form>

		<footer>
			<div class="copyright">
				<p>Â© Andrea Tai 2019</p>
			</div>

			<div class="social-icons">
				<ul>
					<li>
						<a href="http://www.instagram.com/saterday32" target="_blank" title="Instagram">
							<img src="../images/social/instagram.png">
						</a>
					</li>

					<li>
						<a href="http://www.facebook.com/saterday32" target="_blank" title="Facebook">
							<img src="../images/social/facebook.png">
						</a>
					</li>

					<li>
						<a href="http://www.linkedin.com/in/andreatai" target="_blank" title="LinkedIn">
							<img src="../images/social/linkedin.png">
						</a>
					</li>

					<li>
						<a href="http://wwww.twitter.com/saterday19" target="_blank" title="Twitter">
							<img src="../images/social/twitter.png">
						</a>
					</li>

					<li>
						<a href="http://www.instagram.com/sanfranciscofoodcoop" target="_blank" title="San Francisco Food CoOp">
							<img src="../images/social/instagram.png">
						</a>
					</li>

					<li>
						<a href="http://www.youtube.com/channel/UC5GGAsaqdAFv8S_83IMZozw" target="_blank" title="YouTube">
							<img src="../images/social/youtube.png">
						</a>
					</li>

					<li>
						<a href="http://www.pinterest.com/saterday32" target="_blank" title="Pinterest">
							<img src="../images/social/pinterest.png">
						</a>
					</li>

					<li>
						<a href="http://saterday32.tumblr.com" target="_blank" title="Tumblr">
							<img src="../images/social/tumblr.png">
						</a>
					</li>

					<li>
						<a href="http://www.instagram.com/andreataiphotography" target="_blank" title="Andrea Tai Photography">
							<img src="../images/social/instagram.png">
						</a>
					</li>

					<li>
						<a href="http://www.snapchat.com/add/saterday32" target="_blank" title="Snapchat">
							<img src="../images/social/snapchat.png">
						</a>
					</li>

					<li>
						<a href="http://www.reddit.com/u/saterday32" target="_blank" title="Reddit">
							<img src="../images/social/reddit.png">
						</a>
					</li>

					<li>
						<a href="http://open.spotify.com/user/saterday32" target="_blank" title="Spotify">
							<img src="../images/social/spotify.png">
						</a>
					</li>
				</ul>
			</div>
		</footer>
		
	</body>
</html>